{% extends "layout.html" %}
{% block content %}


    <div class="container">
        <div class="row">
            <div class="col-xs-4 item-photo">
                <img src="{{imgUrl}}" class="img-thumbnail" alt="{{name}}" />
            </div>
            <div class="col-xs-5" style="border:0px solid gray">
                <!-- Datos del vendedor y titulo del producto -->
                <h3 class="display-4" id="productTitle">{{ name }}</h3>
                <h5 style="color:#337ab7">mfg. by <a href="#">Manufacturer</a> Â· <small style="color:#337ab7">(5054
                        reviews)</small></h5>

                <!-- Precios -->
                <h6 class="title-price"><small>Price</small></h6>
                <h3 style="margin-top:0px;">{{cost}} CWBY</h3>


                <!-- Botones de compra -->
                <div class="section" style="padding-bottom:20px;">
                    {% if status %}
                    {{ status }}
                    {% endif %}
                    <button class="btn btn-success" id="button_buy"><span style="margin-right:20px" class="glyphicon glyphicon-shopping-cart"
                            aria-hidden="true"
                            {% if status=="sold_out" %}disabled{% endif %}></span> Buy now</button>
                    
                </div>
            </div>

            <div class="col-xs-9">
                <div>
                    <p style="padding:15px;">
                        <small>
                            {{ description }}
                        </small>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">
        $(document).ready(function () {
            //-- Click on detail
            $("ul.menu-items > li").on("click", function () {
                $("ul.menu-items > li").removeClass("active");
                $(this).addClass("active");
            });

            $(".attr,.attr2").on("click", function () {
                var clase = $(this).attr("class");

                $("." + clase).removeClass("active");
                $(this).addClass("active");
            });

            // click on buy
            $("#button_buy").on("click", function () {
                // get product cost
                cost='{{cost}}';
                console.log(cost);

                spendTokens(cost);
            });
        });
        // INITIALIZE WEB3 using web3io.js
        window.addEventListener('load', function () {
        // check for web3 injection
        if (typeof (web3) !== 'undefined') {
            startApp(web3);
        } else {
            // get user to install metamask
            window.alert("web3 is undefined. Please install Metamask.");
        }
        });
    </script>
    
{% endblock %}